<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>

<?import javafx.collections.FXCollections?>
<?import java.lang.String?>
<SplitPane dividerPositions="0.3" fx:controller="com.longfor.lmk.k8slogviewer.controller.MainController" xmlns:fx="http://javafx.com/fxml">
    <!-- 左侧导航树 -->
    <VBox spacing="10" styleClass="navigation-panel">
        <padding><Insets top="15" right="15" bottom="15" left="15"/></padding>
        <!-- 导航树搜索 -->
        <HBox spacing="10" alignment="CENTER_LEFT">
            <TextField fx:id="treeSearchField" promptText="搜索命名空间/Pod/容器..." prefWidth="200"/>
            <Button fx:id="treeSearchButton" text="搜索" styleClass="search-button" onAction="#searchTree"/>
        </HBox>
        <TreeView fx:id="navigationTree" minWidth="200" styleClass="navigation-tree" VBox.vgrow="ALWAYS"/>
    </VBox>

    <!-- 右侧日志面板 -->
    <VBox spacing="10" styleClass="log-panel">
        <padding><Insets top="15" right="15" bottom="15" left="15"/></padding>

        <!-- 日志搜索控制栏 -->
        <HBox spacing="10" alignment="CENTER_LEFT">
            <TextField fx:id="searchField" promptText="请输入日志搜索关键词..." prefWidth="300"/>
            <ComboBox fx:id="searchModeCombo" value="模糊匹配">
                <items>
                    <FXCollections fx:factory="observableArrayList">
                        <String fx:value="模糊匹配"/>
                        <String fx:value="精确匹配"/>
                        <String fx:value="正则表达式"/>
                    </FXCollections>
                </items>
            </ComboBox>
            <Button fx:id="searchButton" text="搜索" styleClass="search-button" onAction="#searchLogs"/>
            <CheckBox fx:id="caseSensitiveCheck" text="区分大小写"/>
        </HBox>

        <!-- 暂停/恢复按钮 -->
        <Button fx:id="pauseResumeButton" text="暂停" styleClass="pause-button" onAction="#togglePauseResume"/>

        <!-- 日志显示区域 -->
        <TextArea fx:id="logArea" editable="false" wrapText="true" styleClass="log-area" VBox.vgrow="ALWAYS"/>

        <!-- 右侧底部工具栏 -->
        <ToolBar orientation="VERTICAL" styleClass="toolbar">
            <Button fx:id="settingsButton" styleClass="toolbar-button" onAction="#openSettings">
                <graphic>
                    <ImageView>
<!--                        <Image url="/com/longfor/lmk/k8slogviewer/icons/settings.png"/>-->
                    </ImageView>
                </graphic>
                <tooltip>
                    <Tooltip text="设置"/>
                </tooltip>
            </Button>
        </ToolBar>
    </VBox>
</SplitPane>